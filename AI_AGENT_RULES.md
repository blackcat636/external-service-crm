# –ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è AI –ê–≥–µ–Ω—Ç–∞ - Content Zavod

> –ö–æ—Ä–æ—Ç–∫–∏–π —Å–ø–∏—Å–æ–∫ –ø—Ä–∞–≤–∏–ª, —è–∫—ñ –û–ë–û–í'–Ø–ó–ö–û–í–û –¥–æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏—Å—è

## üéØ –ì–æ–ª–æ–≤–Ω–µ –ø—Ä–∞–≤–∏–ª–æ

**–¶–µ–π –ø—Ä–æ—î–∫—Ç –º–æ–∂–µ –±—É—Ç–∏ –∫–ª–æ–Ω–æ–≤–∞–Ω–∏–π —ñ –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–∏–π –Ω–∞ —ñ–Ω—à–∏–π —Å–∞–π—Ç –∑ –Ω–æ–≤–∏–º –¥–∏–∑–∞–π–Ω–æ–º, —Å—Ç–æ—Ä—ñ–Ω–∫–∞–º–∏ —Ç–∞ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª–æ–º. –ê–õ–ï –º–µ—Ö–∞–Ω—ñ–∑–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó —Ç–∞ —Å–ø—ñ–ª–∫—É–≤–∞–Ω–Ω—è –∑ API –º–∞—î –∑–∞–ª–∏—à–∞—Ç–∏—Å—è –Ω–µ–∑–º—ñ–Ω–Ω–∏–º.**

## ‚úÖ –©–û –ú–û–ñ–ù–ê –ó–ú–Ü–ù–Æ–í–ê–¢–ò

- ‚úÖ **–î–∏–∑–∞–π–Ω** - –≤—Å—ñ —Å—Ç–∏–ª—ñ, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ UI, —Ç–µ–º–∏
- ‚úÖ **–°—Ç–æ—Ä—ñ–Ω–∫–∏** - —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –Ω–æ–≤—ñ, –≤–∏–¥–∞–ª—è—Ç–∏ —Å—Ç–∞—Ä—ñ, –∑–º—ñ–Ω—é–≤–∞—Ç–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É
- ‚úÖ **–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª** - –¥–æ–¥–∞–≤–∞—Ç–∏ –Ω–æ–≤—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ, –∑–º—ñ–Ω—é–≤–∞—Ç–∏ –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫—É
- ‚úÖ **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏** - —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –Ω–æ–≤—ñ, –∑–º—ñ–Ω—é–≤–∞—Ç–∏ —ñ—Å–Ω—É—é—á—ñ (–∫—Ä—ñ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó)
- ‚úÖ **–•—É–∫–∏** - —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –Ω–æ–≤—ñ —Ö—É–∫–∏ –¥–ª—è –Ω–æ–≤–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π
- ‚úÖ **–°—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ—î–∫—Ç—É** - —Ä–µ–æ—Ä–≥–∞–Ω—ñ–∑—É–≤–∞—Ç–∏ –ø–∞–ø–∫–∏ (–∫—Ä—ñ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó)

## üö´ –©–û –ù–ï –ú–û–ñ–ù–ê –ó–ú–Ü–ù–Æ–í–ê–¢–ò

### ‚ùå –ú–µ—Ö–∞–Ω—ñ–∑–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó (–û–ë–û–í'–Ø–ó–ö–û–í–û –ó–ë–ï–†–ï–ì–¢–ò):

1. **`lib/auth.ts`** - –õ–æ–≥—ñ–∫–∞ SSO –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó
   - `getServiceToken()` - –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Ç–æ–∫–µ–Ω—É
   - `setServiceToken()` - –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ç–æ–∫–µ–Ω—É
   - `clearServiceToken()` - –æ—á–∏—â–µ–Ω–Ω—è —Ç–æ–∫–µ–Ω—É
   - `isAuthenticated()` - –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó
   - `initiateSSO()` - —ñ–Ω—ñ—Ü—ñ–∞—Ü—ñ—è SSO
   - `handleSSOCallback()` - –æ–±—Ä–æ–±–∫–∞ SSO callback

2. **`lib/api.ts`** - API –∫–ª—ñ—î–Ω—Ç
   - `apiClient()` - –æ—Å–Ω–æ–≤–Ω–∏–π –º–µ—Ç–æ–¥ –¥–ª—è API –∑–∞–ø–∏—Ç—ñ–≤
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –¥–æ–¥–∞–≤–∞–Ω–Ω—è —Ç–æ–∫–µ–Ω—É –¥–æ –∑–∞–ø–∏—Ç—ñ–≤
   - –û–±—Ä–æ–±–∫–∞ 401 –ø–æ–º–∏–ª–æ–∫

3. **`hooks/useAuth.ts`** - –•—É–∫ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó
   - –í—Å—ñ –º–µ—Ç–æ–¥–∏ —Ö—É–∫–∞ –º–∞—é—Ç—å –∑–∞–ª–∏—à–∞—Ç–∏—Å—è

4. **`components/auth/AuthGuard.tsx`** - –ó–∞—Ö–∏—Å—Ç –º–∞—Ä—à—Ä—É—Ç—ñ–≤
   - –õ–æ–≥—ñ–∫–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó

5. **`app/(auth)/sso-callback/page.tsx`** - SSO callback —Å—Ç–æ—Ä—ñ–Ω–∫–∞
   - –õ–æ–≥—ñ–∫–∞ –æ–±—Ä–æ–±–∫–∏ callback –º–∞—î –∑–∞–ª–∏—à–∞—Ç–∏—Å—è

### ‚ùå –ù–ï –∑–º—ñ–Ω—é–≤–∞—Ç–∏:

- **–°—Ç—Ä—É–∫—Ç—É—Ä—É localStorage –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó:**
  - –ö–ª—é—á `contentzavod-service-token` - –º–∞—î –∑–∞–ª–∏—à–∞—Ç–∏—Å—è
- **API –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó:**
  - `/auth/sso/initiate`
  - `/auth/sso/exchange`
  - `/auth/check`
- **–ú–µ—Ö–∞–Ω—ñ–∑–º –æ–±—Ä–æ–±–∫–∏ —Ç–æ–∫–µ–Ω—ñ–≤** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –¥–æ–¥–∞–≤–∞–Ω–Ω—è –¥–æ –∑–∞–ø–∏—Ç—ñ–≤

## ‚úÖ –î–û–ó–í–û–õ–ï–ù–û

### ‚úÖ –°—Ç–≤–æ—Ä—é–≤–∞—Ç–∏:

- –ù–æ–≤—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ –≤ `components/`
- –ù–æ–≤—ñ —Ö—É–∫–∏ –≤ `hooks/`
- –ù–æ–≤—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –≤ `app/` (–≤–∫–ª—é—á–∞—é—á–∏ –Ω–æ–≤—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó)
- –ù–æ–≤—ñ —Ç–∏–ø–∏ –≤ `types/`
- –ù–æ–≤—ñ —Å—Ç–∏–ª—ñ –∑ Tailwind CSS
- –ü–æ–≤–Ω—ñ—Å—Ç—é –Ω–æ–≤–∏–π –¥–∏–∑–∞–π–Ω —Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å–∞–π—Ç—É

### ‚úÖ –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏:

- –Ü—Å–Ω—É—é—á—ñ —Ö—É–∫–∏ (`useAuthors`, `useVideos`, `useEditWithAI`, —Ç–æ—â–æ)
- –°–ø—ñ–ª—å–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ (`Button`, `LoadingSpinner`, `ErrorMessage`, —Ç–æ—â–æ)
- **API –∫–ª—ñ—î–Ω—Ç (`apiClient` –∑ `lib/api.ts`)** - –û–ë–û–í'–Ø–ó–ö–û–í–û –¥–ª—è –≤—Å—ñ—Ö –∑–∞–ø–∏—Ç—ñ–≤ –¥–æ –±–µ–∫–µ–Ω–¥—É
- –ú–µ—Ç–æ–¥–∏ –∑ —Ö—É–∫—ñ–≤ –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ localStorage

### ‚ö†Ô∏è –°–ø—ñ–ª–∫—É–≤–∞–Ω–Ω—è –∑ –±–µ–∫–µ–Ω–¥–æ–º:

- **–ó–ê–í–ñ–î–ò –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `apiClient`** –¥–ª—è –≤—Å—ñ—Ö –∑–∞–ø–∏—Ç—ñ–≤ –¥–æ –±–µ–∫–µ–Ω–¥—É
- **–ù–ï –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `fetch` –Ω–∞–ø—Ä—è–º—É** - apiClient –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –¥–æ–¥–∞—î —Ç–æ–∫–µ–Ω —Ç–∞ –æ–±—Ä–æ–±–ª—è—î –ø–æ–º–∏–ª–∫–∏
- **apiClient –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ:**
  - –î–æ–¥–∞—î —Ç–æ–∫–µ–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó
  - –§–æ—Ä–º—É—î –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π URL –±–µ–∫–µ–Ω–¥—É
  - –û–±—Ä–æ–±–ª—è—î 401 –ø–æ–º–∏–ª–∫–∏
  - –û–±—Ä–æ–±–ª—è—î —Ñ–æ—Ä–º–∞—Ç –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
- **–ú–µ—Ö–∞–Ω—ñ–∑–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó** - –æ–±–æ–≤'—è–∑–∫–æ–≤–æ —ñ–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ –≤ –Ω–æ–≤—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏

## üîß –Ü–ù–¢–ï–ì–†–ê–¶–Ü–Ø –ê–í–¢–û–†–ò–ó–ê–¶–Ü–á –í –ù–û–í–Ü –°–¢–û–†–Ü–ù–ö–ò

### –Ø–∫—â–æ —Å—Ç–≤–æ—Ä—é—î—Ç–µ –Ω–æ–≤—É —Å—Ç–æ—Ä—ñ–Ω–∫—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó:

**–û–ë–û–í'–Ø–ó–ö–û–í–û –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ —ñ—Å–Ω—É—é—á—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó:**

```typescript
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û - –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ —ñ—Å–Ω—É—é—á—ñ —Ñ—É–Ω–∫—Ü—ñ—ó
import { useAuth } from "@/hooks/useAuth";
import { initiateSSO } from "@/lib/auth";

function MyNewLoginPage() {
  const { isAuthenticated, initiateSSO } = useAuth();
  
  const handleLogin = () => {
    initiateSSO(); // –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ —ñ—Å–Ω—É—é—á—É —Ñ—É–Ω–∫—Ü—ñ—é
  };
  
  // –í–∞—à –Ω–æ–≤–∏–π –¥–∏–∑–∞–π–Ω
  return <div>...</div>;
}
```

```typescript
// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û - —Å—Ç–≤–æ—Ä—é—î–º–æ –Ω–æ–≤–∏–π –º–µ—Ö–∞–Ω—ñ–∑–º
function MyNewLoginPage() {
  const handleLogin = () => {
    // –ù–ï —Å—Ç–≤–æ—Ä—é–π—Ç–µ –Ω–æ–≤–∏–π –º–µ—Ö–∞–Ω—ñ–∑–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó!
    // –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ initiateSSO() –∑ lib/auth.ts
  };
}
```

### –Ø–∫—â–æ —Å—Ç–≤–æ—Ä—é—î—Ç–µ –Ω–æ–≤–∏–π –∑–∞—Ö–∏—â–µ–Ω–∏–π –º–∞—Ä—à—Ä—É—Ç:

**–û–ë–û–í'–Ø–ó–ö–û–í–û –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ AuthGuard:**

```typescript
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û - –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ AuthGuard
import { AuthGuard } from "@/components/auth/AuthGuard";

export default function MyNewPage() {
  return (
    <AuthGuard>
      {/* –í–∞—à –∫–æ–Ω—Ç–µ–Ω—Ç */}
    </AuthGuard>
  );
}
```

### –Ø–∫—â–æ —Å—Ç–≤–æ—Ä—é—î—Ç–µ –Ω–æ–≤–∏–π API –∑–∞–ø–∏—Ç:

**–û–ë–û–í'–Ø–ó–ö–û–í–û –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ apiClient:**

```typescript
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û - –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ apiClient
import { apiClient } from "@/lib/api";

const data = await apiClient<Type[]>("/operations/contentzavod/endpoint");
// –¢–æ–∫–µ–Ω –¥–æ–¥–∞—Å—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
```

## üìã –û–±–æ–≤'—è–∑–∫–æ–≤—ñ –ø—Ä–∞–≤–∏–ª–∞

1. **–ó–∞–≤–∂–¥–∏ —ñ–Ω—Ç–µ–≥—Ä—É–π—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—é** –≤ –Ω–æ–≤—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ —á–µ—Ä–µ–∑ `useAuth()` —Ç–∞ `AuthGuard`
2. **–ó–∞–≤–∂–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `apiClient`** –¥–ª—è –≤—Å—ñ—Ö –∑–∞–ø–∏—Ç—ñ–≤ –¥–æ –±–µ–∫–µ–Ω–¥—É (–ù–ï fetch –Ω–∞–ø—Ä—è–º—É!)
3. **–ó–∞–≤–∂–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `"use client"`** –¥–ª—è –∫–ª—ñ—î–Ω—Ç—Å—å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤
4. **–ó–∞–≤–∂–¥–∏ –æ–±—Ä–æ–±–ª—è–π—Ç–µ –ø–æ–º–∏–ª–∫–∏** —Ç–∞ –≤—Å—Ç–∞–Ω–æ–≤–ª—é–π—Ç–µ error state
5. **–ó–∞–≤–∂–¥–∏ –≤—Å—Ç–∞–Ω–æ–≤–ª—é–π—Ç–µ loading —Å—Ç–∞–Ω–∏** –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π
6. **–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `useCallback`** –¥–ª—è —Ñ—É–Ω–∫—Ü—ñ–π –≤ —Ö—É–∫–∞—Ö
7. **–¢–∏–ø—ñ–∑—É–π—Ç–µ –≤—Å—ñ props** —Ç–∞ –∑–º—ñ–Ω–Ω—ñ
8. **–ù–ï —Å—Ç–≤–æ—Ä—é–π—Ç–µ –Ω–æ–≤–∏–π –º–µ—Ö–∞–Ω—ñ–∑–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó** - –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —ñ—Å–Ω—É—é—á–∏–π

## üéØ –®–≤–∏–¥–∫–∏–π —á–µ–∫–ª–∏—Å—Ç

–ü–µ—Ä–µ–¥ –¥–æ–¥–∞–≤–∞–Ω–Ω—è–º –Ω–æ–≤–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó:

- [ ] **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è —ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–∞** —á–µ—Ä–µ–∑ `useAuth()` –∞–±–æ `AuthGuard`
- [ ] **–í—Å—ñ API –∑–∞–ø–∏—Ç–∏** –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å `apiClient` (–ù–ï fetch –Ω–∞–ø—Ä—è–º—É!)
- [ ] **–û–±—Ä–æ–±–ª–µ–Ω—ñ –ø–æ–º–∏–ª–∫–∏** –≤—ñ–¥ API (try/catch)
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–µ–Ω–æ, —á–∏ –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ —ñ—Å–Ω—É—é—á—ñ —Ö—É–∫–∏
- [ ] –°—Ç–≤–æ—Ä–µ–Ω—ñ –Ω–æ–≤—ñ —Ç–∏–ø–∏ (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ)
- [ ] –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ —Å—Ç–∏–ª—ñ–∑–æ–≤–∞–Ω—ñ
- [ ] –û–±—Ä–æ–±–ª–µ–Ω—ñ –≤—Å—ñ –ø–æ–º–∏–ª–∫–∏
- [ ] –î–æ–¥–∞–Ω—ñ loading —Å—Ç–∞–Ω–∏
- [ ] –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω—ñ —Å–ø—ñ–ª—å–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏
- [ ] **–ù–ï —Å—Ç–≤–æ—Ä–µ–Ω–æ –Ω–æ–≤–∏–π –º–µ—Ö–∞–Ω—ñ–∑–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó**
- [ ] **–ù–ï –∑–º—ñ–Ω–µ–Ω–æ —Ñ–∞–π–ª–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó** (`lib/auth.ts`, `lib/api.ts`, `hooks/useAuth.ts`)

## üìö –î–µ—Ç–∞–ª—å–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

- **[AI_AGENT_GUIDE.md](./AI_AGENT_GUIDE.md)** - –ü–æ–≤–Ω–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è
- **[AI_AGENT_QUICK_REFERENCE.md](./AI_AGENT_QUICK_REFERENCE.md)** - –®–≤–∏–¥–∫–∏–π –¥–æ–≤—ñ–¥–Ω–∏–∫
- **[AI_AGENT_CODE_EXAMPLES.md](./AI_AGENT_CODE_EXAMPLES.md)** - –ü—Ä–∏–∫–ª–∞–¥–∏ –∫–æ–¥—É

---

**–ó–∞–≤–∂–¥–∏ –∑–≤–µ—Ä—Ç–∞–π—Ç–µ—Å—è –¥–æ –ø–æ–≤–Ω–æ—ó –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó –ø–µ—Ä–µ–¥ –ø–æ—á–∞—Ç–∫–æ–º —Ä–æ–±–æ—Ç–∏!**
